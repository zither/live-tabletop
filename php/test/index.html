<html>
	<head>
		<title>Live Tabletop Automated Test</title>
		<link rel="stylesheet" href="test.css"/>
		<script type="text/javascript" src="../../jquery-1.11.0.min.js"></script>
		<script type="text/javascript" src="../../js/LT.js"></script>
		<script type="text/javascript" src="../../js/uploader.js"></script>
		<script type="text/javascript" src="test.js"></script>
		<script type="text/javascript">

// constants
TEST.USER = {login: "foo", password: "bar"};
TEST.TABLE_ARGS = {
	'name': "My Table",
	image_id: 1,
	default_tile: 2,
	rows: 100,
	columns: 50,
	tile_width: 45,
	tile_height: 30,
	tile_mode: "rectangle",
	grid_thickness: 1,
	grid_color: "gray",
	wall_thickness: 3,
	wall_color: "black",
};
TEST.ADMIN = {login: "nymduh", password: "draosup"};
TEST.ADMIN2 = {login: "admin2", password: "password2"};
TEST.INSTALL_ARGS = {
	admin_login: TEST.ADMIN.login,
	admin_password: TEST.ADMIN.password,
};

TEST.MESSAGE_IN = "From 1975 - 2010, [0 + 2010 - 1975] years passed.";
TEST.MESSAGE_OUT = 'From 1975 - 2010, <span class="roll">0 + 2010 - 1975 = 35</span> years passed.';

// list of tests
TEST.tests = [

	// INSTALL
	{group: "INSTALL"},
	{action: "../install.php", abort: true, args: TEST.INSTALL_ARGS, result: TEST.blank},
	{action: "../db_config.php", args: {}, result: TEST.exists},

	// clear session variables
	{action: "../Admin.logout.php", args: {}, result: TEST.exists},
	{action: "../User.logout.php", args: {}, result: TEST.exists},

	// ADMIN

	{group: "ADMIN.CREATE"},
	{action: "../Admin.create.php", args: TEST.ADMIN2, result: TEST.logged_out},
	{action: "../Admin.login.php", args: TEST.ADMIN, result: TEST.blank},
	{action: "../Admin.create.php", args: TEST.ADMIN2, result: TEST.blank},
	{action: "../Admin.logout.php", args: {}, result: TEST.blank},

	{group: "ADMIN.LOGIN"},
	{action: "../Admin.login.php", args: {login: "admin2", password: "wrong"}, result: TEST.unauthorized},
	{action: "../Admin.login.php", args: {login: "wrong", password: "password2"}, result: TEST.unauthorized},
	{action: "../Admin.login.php", args: TEST.ADMIN2, result: TEST.blank},
	{action: "../Admin.logout.php", args: {}, result: TEST.blank},

	{group: "ADMIN.LOGOUT"},
	{action: "../Admin.logout.php", args: {}, result: TEST.blank},
	{action: "../Admin.create.php", args: TEST.ADMIN2, result: TEST.logged_out},

	{group: "ADMIN.DELETE"},
	{action: "../Admin.delete.php", args: {login: "admin2"}, result: TEST.logged_out},
	{action: "../Admin.login.php", args: TEST.ADMIN, result: TEST.blank},
	{action: "../Admin.delete.php", args: {login: "admin2"}, result: TEST.blank},
	{action: "../Admin.login.php", args: TEST.ADMIN2, result: TEST.unauthorized},
	{action: "../Admin.logout.php", args: {}, result: TEST.blank},

	{group: "ADMIN.PASSWORD"},
	{action: "../Admin.password.php", args: {password: "newPassword"}, result: TEST.logged_out},
	{action: "../Admin.login.php", args: TEST.ADMIN, result: TEST.blank},
	{action: "../Admin.password.php", args: {password: "newPassword"}, result: TEST.blank},
	{action: "../Admin.logout.php", args: {}, result: TEST.blank},
	{action: "../Admin.login.php", args: {login: TEST.ADMIN.login, password: "newPassword"}, result: TEST.blank},
	{action: "../Admin.password.php", args: {password: TEST.ADMIN.password}, result: TEST.blank},
	{action: "../Admin.logout.php", args: {}, result: TEST.blank},

	{group: "ADMIN.USERS"},
	{action: "../Admin.users.php", args: {}, result: TEST.logged_out},
	{action: "../User.create.php", args: {login: "larry", password: "curly", email: "a@b.c", subscribed: 1}, result: TEST.blank},
	{action: "../Admin.login.php", args: TEST.ADMIN, result: TEST.blank},
	{action: "../Admin.users.php", args: {}, result: TEST.one},
	{action: "../Admin.logout.php", args: {}, result: TEST.blank},

	{group: "ADMIN.FRIENDS"},
	{action: "../Admin.friends.php", args: {}, result: TEST.logged_out},
	{action: "../Admin.login.php", args: TEST.ADMIN, result: TEST.blank},
	{action: "../Admin.friends.php", args: {user: 1}, result: TEST.zero},
	{action: "../Admin.logout.php", args: {}, result: TEST.blank},

	{group: "ADMIN.USER PASSWORD"},
	{action: "../Admin.userPassword.php", args: {}, result: TEST.logged_out},
	{action: "../Admin.login.php", args: TEST.ADMIN, result: TEST.blank},
	{action: "../Admin.userPassword.php", args: {user: 1, password: "shemp"}, result: TEST.blank},
	{action: "../Admin.logout.php", args: {}, result: TEST.blank},
	{action: "../User.login.php", args: {login: "larry", password: "shemp"}, result: TEST.exists},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "ADMIN.CAMPAIGNS"},
	{action: "../Admin.campaigns.php", args: {}, result: TEST.logged_out},
	{action: "../User.login.php", args: {login: "larry", password: "shemp"}, result: TEST.exists},
	{action: "../Campaign.create.php", args: {name: "My Campaign"}, result: TEST.exists},
	{action: "../User.logout.php", args: {}, result: TEST.blank},
	{action: "../Admin.login.php", args: TEST.ADMIN, result: TEST.blank},
	{action: "../Admin.campaigns.php", args: {}, result: TEST.one},
	{action: "../Admin.logout.php", args: {}, result: TEST.blank},

	{group: "ADMIN.MESSAGES"},
	{action: "../Admin.messages.php", args: {}, result: TEST.logged_out},
	{action: "../Admin.login.php", args: TEST.ADMIN, result: TEST.blank},
	{action: "../Admin.messages.php", args: {campaign: 1}, result: TEST.zero},
	{action: "../Admin.logout.php", args: {}, result: TEST.blank},

	{group: "ADMIN.EXPIRE MESSAGES"},
	{action: "../Admin.expireMessages.php", args: {}, result: TEST.logged_out},
	{action: "../Admin.login.php", args: TEST.ADMIN, result: TEST.blank},
	{action: "../Admin.expireMessages.php", args: {}, result: TEST.blank},
	{action: "../Admin.logout.php", args: {}, result: TEST.blank},

	{group: "ADMIN.DELETE CAMPAIGN"},
	{action: "../Admin.deleteCampaign.php", args: {}, result: TEST.logged_out},
	{action: "../Admin.login.php", args: TEST.ADMIN, result: TEST.blank},
	{action: "../Admin.deleteCampaign.php", args: {campaign: 1}, result: TEST.blank},
	{action: "../Admin.campaigns.php", args: {}, result: TEST.zero},
	{action: "../Admin.logout.php", args: {}, result: TEST.blank},

	{group: "ADMIN.DELETE USER"},
	{action: "../Admin.deleteUser.php", args: {}, result: TEST.logged_out},
	{action: "../Admin.login.php", args: TEST.ADMIN, result: TEST.blank},
	{action: "../Admin.deleteUser.php", args: {user: 1}, result: TEST.blank},
	{action: "../Admin.users.php", args: {}, result: TEST.zero},
	{action: "../Admin.logout.php", args: {}, result: TEST.blank},

	// U S E R

	{group: "USER.CREATE"},
	{action: "../User.create.php",
		args: {login: TEST.USER.login, password: TEST.USER.password, email: "x@y.z", subscribed: 0}, result: TEST.blank},

	{group: "USER.LOGIN"},
	{action: "../User.login.php", args: {login: TEST.USER.login, password: "wrong"}, result: TEST.unauthorized},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../User.campaigns.php", args: {}, result: TEST.exists},

	{group: "USER.LOGOUT"},
	{action: "../User.logout.php", args: {}, result: TEST.blank},
	{action: "../User.campaigns.php", args: {}, result: TEST.logged_out},

	{group: "USER.CHARACTERS"},
	{action: "../User.characters.php", args: {}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../User.characters.php", args: {}, result: TEST.zero},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "USER.CAMPAIGNS"},
	{action: "../User.campaigns.php", args: {}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../User.campaigns.php", args: {}, result: TEST.zero},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "USER.MAPS"},
	{action: "../User.maps.php", args: {}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../User.maps.php", args: {}, result: TEST.zero},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "USER.UPDATE"},
	{action: "../User.update.php", args: {}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../User.update.php", args: {name: "moe", color: "green", email: "a@b.c", subscribed: 1}, result: TEST.blank},
	{action: "../User.logout.php", args: {}, result: TEST.blank},
	{action: "../User.login.php", args: TEST.USER, result: function (ajax) {
		try {var data = JSON.parse(ajax.responseText);} catch (e) {return "FAIL [parse error: " + e + "]";}
		if (data.name == "moe" && data.color == "green" && data.email == "a@b.c" && data.subscribed == 1) return "PASS";
		else return "FAIL [" + ajax.responseText + "]";}},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "USER PASSWORD"},
	{action: "../User.password.php", args: {password: "newPassword"}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../User.password.php", args: {password: "newPassword"}, result: TEST.blank},
	{action: "../User.logout.php", args: {}, result: TEST.blank},
	{action: "../User.login.php", args: {login: TEST.USER.login, password: "newPassword"}, result: TEST.exists},
	{action: "../User.password.php", args: {password: TEST.USER.password}, result: TEST.blank},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "USER.FRIENDS"},
	{action: "../User.friends.php", args: {}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../User.friends.php", args: {}, result: function (ajax) {
		try {var data = JSON.parse(ajax.responseText);} catch (e) {return "FAIL [parse error: " + e + "]";}
		if (data.requested.length + data.recieved.length + data.confirmed.length == 0) return "PASS";
		else return "FAIL [" + ajax.responseText + "]";}},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "USER.FRIEND"},
	{action: "../User.friend.php", args: {}, result: TEST.logged_out},
	{action: "../User.create.php", args: {login: "toad", password: "hall", email: "a@b.c", subscribed: 1}, result: TEST.blank},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../User.friend.php", args: {recipient: 2}, result: TEST.blank}, // friending self should fail silently
	{action: "../User.friend.php", args: {recipient: 3}, result: TEST.blank},
	{action: "../User.friends.php", args: {}, result: function (ajax) {
		try {var data = JSON.parse(ajax.responseText);} catch (e) {return "FAIL [parse error: " + e + "]";}
		if (data.requested.length + data.recieved.length + data.confirmed.length == 1) return "PASS";
		else return "FAIL [" + ajax.responseText + "]";}},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "USER.UNFRIEND"},
	{action: "../User.unfriend.php", args: {}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../User.unfriend.php", args: {recipient: 3}, result: TEST.blank},
	{action: "../User.friends.php", args: {}, result: function (ajax) {
		try {var data = JSON.parse(ajax.responseText);} catch (e) {return "FAIL [parse error: " + e + "]";}
		if (data.requested.length + data.recieved.length + data.confirmed.length == 0) return "PASS";
		else return "FAIL [" + ajax.responseText + "]";}},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

/*
	{group: "DELETE USER"},
	{action: "../delete_user.php",
		args: {user_id: 2},
		result: TEST.blank},
	{action: "../read_users.php", args: {}, result: TEST.one},
*/

	// C A M P A I G N

	{group: "CAMPAIGN.CREATE"},
	{action: "../Campaign.create.php", args: {name: "My Campaign"}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../Campaign.create.php", args: {name: "My Campaign"}, result: function (ajax) {return TEST.json(ajax, {id: 2});}},
	{action: "../User.campaigns.php", args: {}, result: TEST.one},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "CAMPAIGN.NAME"},
	{action: "../Campaign.name.php", args: {campaign: 2, name: "Still My Campaign"}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../Campaign.name.php", args: {campaign: 2, name: "Still My Campaign"}, result: TEST.blank},
	{action: "../User.campaigns.php", args: {}, result: function (ajax) {
		try {var data = JSON.parse(ajax.responseText);} catch (e) {return "FAIL [parse error: " + e + "]";}
		if (data[0].campaign_id == 2 && data[0].name == "Still My Campaign") return "PASS";
		else return "FAIL [" + ajax.responseText + "]";}},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "CAMPAIGN.PRIVATE"},
	{action: "../Campaign.private.php", args: {campaign: 2, 'private': 0}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../Campaign.private.php", args: {campaign: 2, 'private': 0}, result: TEST.blank},
	{action: "../Campaign.read.php", args: {campaign: 2}, result: function (ajax) {
		try {var data = JSON.parse(ajax.responseText);} catch (e) {return "FAIL [parse error: " + e + "]";}
		if (data['private'] == 0) return "PASS"; else return "FAIL [" + ajax.responseText + "]";}},
	{action: "../Campaign.private.php", args: {campaign: 2, 'private': 1}, result: TEST.blank},
	{action: "../Campaign.read.php", args: {campaign: 2}, result: function (ajax) {
		try {var data = JSON.parse(ajax.responseText);} catch (e) {return "FAIL [parse error: " + e + "]";}
		if (data['private'] == 1) return "PASS"; else return "FAIL [" + ajax.responseText + "]";}},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "CAMPAIGN.READ"},
	{action: "../Campaign.read.php", args: {campaign: 2}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../Campaign.read.php", args: {campaign: 2}, result: function (ajax) {
		try {var data = JSON.parse(ajax.responseText);} catch (e) {return "FAIL [parse error: " + e + "]";}
		if (data.id == 2 && data.name == "Still My Campaign" && data['private'] === true && data.map === null
			&& JSON.stringify(data.turns) == "[]" && typeof(data.last_message) == "number"
			&& typeof(data.users_modified) == 'number') return "PASS";
		else return "FAIL [" + ajax.responseText + "]";}},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "CAMPAIGN.MAP"},
	{action: "../Campaign.map.php", args: {campaign: 2, map: 1}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../Campaign.map.php", args: {campaign: 2, map: 1}, result: TEST.blank},
	{action: "../Campaign.read.php", args: {campaign: 2}, result: function (ajax) {
		try {var data = JSON.parse(ajax.responseText);} catch (e) {return "FAIL [parse error: " + e + "]";}
		if (data.map == 1) return "PASS"; else return "FAIL [" + ajax.responseText + "]";}},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "CAMPAIGN.TURNS"},
	{action: "../Campaign.turns.php", args: {campaign: 2, turns: "[1,1,2,3,5,8,13,21]"}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../Campaign.turns.php", args: {campaign: 2, turns: "[1,1,2,3,5,8,13,21]"}, result: TEST.blank},
	{action: "../Campaign.read.php", args: {campaign: 2}, result: function (ajax) {
		try {var data = JSON.parse(ajax.responseText);} catch (e) {return "FAIL [parse error: " + e + "]";}
		if (JSON.stringify(data.turns) == "[1,1,2,3,5,8,13,21]") return "PASS"; else return "FAIL [" + ajax.responseText + "]";}},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "CAMPAIGN.USERS"},
	{action: "../Campaign.users.php", args: {campaign: 2}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../Campaign.users.php", args: {campaign: 2}, result: function (ajax) {
		try {var data = JSON.parse(ajax.responseText);} catch (e) {return "FAIL [parse error: " + e + "]";}
		if (data[0].user_id == 2 && data[0].permission == "owner" && data[0].viewing === false && data[0].avatar === null
			&& data[0].login == TEST.USER.login && data[0].name == "moe") return "PASS";
		else return "FAIL [" + ajax.responseText + "]";}},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "CAMPAIGN.ARRIVE"},
	{action: "../Campaign.arrive.php", args: {campaign: 2}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../Campaign.arrive.php", args: {campaign: 2}, result: TEST.blank},
	{action: "../Campaign.users.php", args: {campaign: 2}, result: function (ajax) {
		try {var data = JSON.parse(ajax.responseText);} catch (e) {return "FAIL [parse error: " + e + "]";}
		if (data[0].user_id == 2 && data[0].permission == "owner" && data[0].viewing === true && data[0].avatar === null
			&& data[0].login == TEST.USER.login && data[0].name == "moe") return "PASS";
		else return "FAIL [" + ajax.responseText + "]";}},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "CAMPAIGN.MESSAGE"},
	{action: "../Campaign.message.php", args: {campaign: 2, avatar: 0, text: TEST.MESSAGE_IN}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../Campaign.message.php", args: {campaign: 2, avatar: 0, text: TEST.MESSAGE_IN}, result: TEST.blank},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "CAMPAIGN.MESSAGES"},
	{action: "../Campaign.messages.php", args: {campaign: 2, last_message_id: 0}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../Campaign.messages.php", args: {campaign: 2, last_message_id: 0}, result: function (ajax) {
		try {var data = JSON.parse(ajax.responseText);} catch (e) {return "FAIL [parse error: " + e + "]";}
		if (data[0].id == 1 && data[0].user_id == 2 && data[0].avatar === 0 && data[0].text == TEST.MESSAGE_OUT) return "PASS";
		else return "FAIL [" + ajax.responseText + "]";}},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "CAMPAIGN.AVATAR"},
	{action: "../Campaign.avatar.php", args: {campaign: 2, avatar: 1}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../Campaign.avatar.php", args: {campaign: 2, avatar: 1}, result: TEST.blank},
	{action: "../Campaign.users.php", args: {campaign: 2}, result: function (ajax) {
		try {var data = JSON.parse(ajax.responseText);} catch (e) {return "FAIL [parse error: " + e + "]";}
		if (data[0].user_id == 2 && data[0].permission == "owner" && data[0].viewing === true && data[0].avatar === 1
			&& data[0].login == TEST.USER.login && data[0].name == "moe") return "PASS";
		else return "FAIL [" + ajax.responseText + "]";}},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "CAMPAIGN.LEAVE"},
	{action: "../Campaign.leave.php", args: {campaign: 2}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../Campaign.leave.php", args: {campaign: 2}, result: TEST.blank},
	{action: "../Campaign.users.php", args: {campaign: 2}, result: function (ajax) {
		try {var data = JSON.parse(ajax.responseText);} catch (e) {return "FAIL [parse error: " + e + "]";}
		if (data[0].user_id == 2 && data[0].permission == "owner" && data[0].viewing === false && data[0].avatar === 1
			&& data[0].login == TEST.USER.login && data[0].name == "moe") return "PASS";
		else return "FAIL [" + ajax.responseText + "]";}},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "CAMPAIGN.PERMISSION"},
	{action: "../User.create.php", args: {login: "nobody", password: "ydobon", email: "a@b.c", subscribed: 1}, result: TEST.blank},
	{action: "../Campaign.permission.php", args: {user: 4, campaign: 2, permission: "member"}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../Campaign.permission.php", args: {user: 4, campaign: 2, permission: "member"}, result: TEST.blank},
	{action: "../Campaign.users.php", args: {campaign: 2}, result: function (ajax) {
		try {var data = JSON.parse(ajax.responseText);} catch (e) {return "FAIL [parse error: " + e + "]";}
		for (var i = 0; i < data.length; i++)
			if (data[i].user_id == 4 && data[i].permission == "member" && data[i].viewing === false && data[i].avatar === null
				&& data[i].login == "nobody" && data[i].name === null) return "PASS";
		return "FAIL [" + ajax.responseText + "]";}},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "PRIVATE ROLL"},
	{action: "../private_roll.php", args: {text: TEST.MESSAGE_IN}, result: function (ajax) {
		try {var data = JSON.parse(ajax.responseText);} catch (e) {return "FAIL [parse error: " + e + "]";}
		if (data.text == TEST.MESSAGE_OUT) return "PASS"; else return "FAIL [" + ajax.responseText + "]";}},

	// M A P

	{group: "MAP.CREATE"},
	{action: "../Map.create.php", args: {type: "square", rows: 30, columns: 40, tile: 1, background: "{}", name: "My Map"},
		result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../Map.create.php", args: {type: "square", rows: 30, columns: 40, tile: 1, background: "{}", name: "My Map"},
		result: function (ajax) {return TEST.json(ajax, {id: 1});}},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "MAP.READ"},
	{action: "../Map.read.php", args: {map: 1}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../Map.read.php", args: {map: 1}, result: function (ajax) {
		try {var data = JSON.parse(ajax.responseText);} catch (e) {return "FAIL [parse error: " + e + "]";}
		if (data.name == "My Map" && data.type == "square" && data.tile_rows == 30 && data.tile_columns == 40
			&& JSON.stringify(data.background) == JSON.stringify({}) && data.min_zoom == 0.25 && data.max_zoom == 4
			&& data.min_rotate == -180 && data.max_rotate == 180 && data.min_tilt == 30 && data.max_tilt == 90
			&& data.grid_thickness == 1 && data.wall_thickness == 3 && data.door_thickness == 3
			&& data.grid_color === null && data.wall_color === null && data.door_color === null
			&& typeof(data.piece_changes) == "number" && typeof(data.tile_changes) == "number"
			&& JSON.stringify(data.tiles) == JSON.stringify(Array(30 * 40 + 1).join().split('').map(function () {return 1;}))
			&& data.flags == Array(31 * 41 + 1).join("0")) return "PASS";
		else return "FAIL [" + ajax.responseText + "]";}},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "MAP.PIECES"},
	{action: "../Map.pieces.php", args: {map: 1}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../Map.pieces.php", args: {map: 1}, result: TEST.zero},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "MAP.SETTINGS"},
	{action: "../Map.settings.php", args: {map: 1, name: "Still My Map", type: "hex", background: "{}", min_zoom: 0.5, max_zoom: 2,
		min_rotate: -45, max_rotate: 45, min_tilt: 15, max_tilt: 45, grid_thickness: 0, grid_color: "orange",
		wall_thickness: 1, wall_color: "brown", door_thickness: 9, door_color: "green"}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../Map.settings.php", args: {map: 1, name: "Still My Map", type: "hex", background: "{}", min_zoom: 0.5, max_zoom: 2,
		min_rotate: -45, max_rotate: 45, min_tilt: 15, max_tilt: 45, grid_thickness: 0, grid_color: "orange",
		wall_thickness: 1, wall_color: "brown", door_thickness: 9, door_color: "green"}, result: TEST.blank},
	{action: "../Map.read.php", args: {map: 1}, result: function (ajax) {
		try {var data = JSON.parse(ajax.responseText);} catch (e) {return "FAIL [parse error: " + e + "]";}
		if (data.name == "Still My Map" && data.type == "hex" && data.tile_rows == 30 && data.tile_columns == 40
			&& JSON.stringify(data.background) == JSON.stringify({}) && data.min_zoom == 0.5 && data.max_zoom == 2
			&& data.min_rotate == -45 && data.max_rotate == 45 && data.min_tilt == 15 && data.max_tilt == 45
			&& data.grid_thickness == 0 && data.wall_thickness == 1 && data.door_thickness == 9
			&& data.grid_color == "orange" && data.wall_color == "brown" && data.door_color == "green"
			&& typeof(data.piece_changes) == "number" && typeof(data.tile_changes) == "number"
			&& JSON.stringify(data.tiles) == JSON.stringify(Array(30 * 40 + 1).join().split('').map(function () {return 1;}))
			&& data.flags == Array(31 * 41 + 1).join("0")) return "PASS";
		else return "FAIL [" + ajax.responseText + "]";}},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "MAP.SIZE"},
	{action: "../Map.size.php", args: {map: 1, left: -5, top: -5, right: 45, bottom: 35, tile: 1, flags: "0"},
		result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../Map.size.php", args: {map: 1, left: -5, top: -5, right: 45, bottom: 35, tile: 1, flags: "0"},
		result: TEST.blank},
	{action: "../Map.read.php", args: {map: 1}, result: function (ajax) {
		try {var data = JSON.parse(ajax.responseText);} catch (e) {return "FAIL [parse error: " + e + "]";}
		if (data.name == "Still My Map" && data.type == "hex" && data.tile_rows == 40 && data.tile_columns == 50
			&& JSON.stringify(data.background) == JSON.stringify({}) && data.min_zoom == 0.5 && data.max_zoom == 2
			&& data.min_rotate == -45 && data.max_rotate == 45 && data.min_tilt == 15 && data.max_tilt == 45
			&& data.grid_thickness == 0 && data.wall_thickness == 1 && data.door_thickness == 9
			&& data.grid_color == "orange" && data.wall_color == "brown" && data.door_color == "green"
			&& typeof(data.piece_changes) == "number" && typeof(data.tile_changes) == "number"
			&& JSON.stringify(data.tiles) == JSON.stringify(Array(40 * 50 + 1).join().split('').map(function () {return 1;}))
			&& data.flags == Array(41 * 51 + 1).join("0")) return "PASS";
		else return "FAIL [" + ajax.responseText + "]";}},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

// symbol  0ABCDEFGHIJKLMNOPQRSTUVWXYZ1abcdefghijklmnopqrstuvwxyz
// fog                                ***************************
// S wall           *********                  *********
// S door                    *********                  *********
// E wall     ***      ***      ***      ***      ***      ***   
// E door        ***      ***      ***      ***      ***      ***
// SE wall    ***      ***      ***      ***      ***      ***   
// SE door       ***      ***      ***      ***      ***      ***
// NE wall  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * 
// NE door   *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *

	{group: "MAP.TILE"},
	{action: "../Map.tile.php", args: {map: 1, x: 3, y: 2, tile: 2}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../Map.tile.php", args: {map: 1, x: 3, y: 2, tile: 2}, result: TEST.blank},
	{action: "../Map.read.php", args: {map: 1}, result: function (ajax) {
		try {var data = JSON.parse(ajax.responseText);} catch (e) {return "FAIL [parse error: " + e + "]";}
		if (data.tiles[3 + 2 * 50] == 2) return "PASS";
		else return "FAIL [" + data.tiles.indexOf(2) + "]";}},
	{action: "../Map.tile.php", args: {map: 1, x: 3, y: 2, fog: 1}, result: TEST.blank},
	{action: "../Map.read.php", args: {map: 1}, result: function (ajax) {
		try {var data = JSON.parse(ajax.responseText);} catch (e) {return "FAIL [parse error: " + e + "]";}
		if (data.flags[(3 + 1) + (2 + 1) * (50 + 1)] == "1") return "PASS";
		else return "FAIL [" + data.flags.indexOf("1") + "]";}},
	{action: "../Map.tile.php", args: {map: 1, x: 3, y: 2, fog: 0}, result: TEST.blank},
	{action: "../Map.read.php", args: {map: 1}, result: function (ajax) {
		try {var data = JSON.parse(ajax.responseText);} catch (e) {return "FAIL [parse error: " + e + "]";}
		if (data.flags[(3 + 1) + (2 + 1) * (50 + 1)] == "0") return "PASS";
		else return "FAIL [0 != " + data.flags[(3 + 1) + (2 + 1) * (50 + 1)] + "]";}},
	{action: "../Map.tile.php", args: {map: 1, x: 3, y: 2, s: 'wall'}, result: TEST.blank},
	{action: "../Map.read.php", args: {map: 1}, result: function (ajax) {
		try {var data = JSON.parse(ajax.responseText);} catch (e) {return "FAIL [parse error: " + e + "]";}
		if (data.flags[(3 + 1) + (2 + 1) * (50 + 1)] == "I") return "PASS";
		else return "FAIL [" + data.flags.indexOf("I") + "]";}},
	{action: "../Map.tile.php", args: {map: 1, x: 3, y: 2, s: 'none'}, result: TEST.blank},
	{action: "../Map.read.php", args: {map: 1}, result: function (ajax) {
		try {var data = JSON.parse(ajax.responseText);} catch (e) {return "FAIL [parse error: " + e + "]";}
		if (data.flags[(3 + 1) + (2 + 1) * (50 + 1)] == "0") return "PASS";
		else return "FAIL [0 != " + data.flags[(3 + 1) + (2 + 1) * (50 + 1)] + "]";}},
	{action: "../Map.tile.php", args: {map: 1, x: 3, y: 2, e: 'wall'}, result: TEST.blank},
	{action: "../Map.read.php", args: {map: 1}, result: function (ajax) {
		try {var data = JSON.parse(ajax.responseText);} catch (e) {return "FAIL [parse error: " + e + "]";}
		if (data.flags[(3 + 1) + (2 + 1) * (50 + 1)] == "C") return "PASS";
		else return "FAIL [" + data.flags.indexOf("C") + "]";}},
	{action: "../Map.tile.php", args: {map: 1, x: 3, y: 2, se: 'door'}, result: TEST.blank},
	{action: "../Map.read.php", args: {map: 1}, result: function (ajax) {
		try {var data = JSON.parse(ajax.responseText);} catch (e) {return "FAIL [parse error: " + e + "]";}
		if (data.flags[(3 + 1) + (2 + 1) * (50 + 1)] == "F") return "PASS";
		else return "FAIL [" + data.flags.indexOf("F") + "]";}},
	{action: "../Map.tile.php", args: {map: 1, x: 3, y: 2, ne: 'door'}, result: TEST.blank},
	{action: "../Map.read.php", args: {map: 1}, result: function (ajax) {
		try {var data = JSON.parse(ajax.responseText);} catch (e) {return "FAIL [parse error: " + e + "]";}
		if (data.flags[(3 + 1) + (2 + 1) * (50 + 1)] == "H") return "PASS";
		else return "FAIL [" + data.flags.indexOf("H") + " " + data.flags[(3 + 1) + (2 + 1) * (50 + 1)] + "]";}},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "MAP.CHANGES"},
	{action: "../Map.changes.php", args: {map: 1}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../Map.changes.php", args: {map: 1}, result: function (ajax) {
		try {var data = JSON.parse(ajax.responseText);} catch (e) {return "FAIL [parse error: " + e + "]";}
		TEST.piece_changes = data.piece_changes; TEST.tile_changes = data.tile_changes; return "PASS";}},
	{action: "../Map.tile.php", args: {map: 1, x: 0, y: 0, ne: 'wall'}, result: TEST.blank},
	{action: "../Map.changes.php", args: {map: 1}, result: function (ajax) {
		try {var data = JSON.parse(ajax.responseText);} catch (e) {return "FAIL [parse error: " + e + "]";}
		if (TEST.tile_changes != data.tile_changes) return "PASS"; else return "FAIL [" + ajax.responseText + "]";}},
	{action: "../Piece.create.php", args: {map: 1, image: "{}"}, result: TEST.blank},
	{action: "../Map.changes.php", args: {map: 1}, result: function (ajax) {
		try {var data = JSON.parse(ajax.responseText);} catch (e) {return "FAIL [parse error: " + e + "]";}
		if (TEST.piece_changes != data.piece_changes) return "PASS"; else return "FAIL [" + ajax.responseText + "]";}},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "MAP.SHARE"},
	{action: "../Map.share.php", args: {map: 1, user: 3}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../Map.share.php", args: {map: 1, user: 3}, result: TEST.unimplemented},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "MAP.OWNERS"},
	{action: "../Map.owners.php", args: {map: 1}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../Map.owners.php", args: {map: 1}, result: TEST.unimplemented},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "MAP.DELETE OWNER"},
	{action: "../Map.deleteOwner.php", args: {map: 1, user: 3}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../Map.deleteOwner.php", args: {map: 1, user: 3}, result: TEST.unimplemented},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

/*
	{group: "CREATE TABLE"},
	{action: "../create_table.php",
		args: {
			name: "My Other Table",
			image_id: 5,
			default_tile: 7,
			rows: 16,
			columns: 25,
			tile_width: 32,
			tile_height: 40,
			grid_thickness: 7,
			grid_color: "red",
			wall_thickness: 3,
			wall_color: "green",
			tile_mode: "rectangle",
		},
		result: TEST.one},

	{group: "READ TABLE"},
	{action: "../read_table.php",
		args: {table_id: 2},
		result: TEST.one},

	{group: "READ TABLES"},
	{action: "../read_tables.php",
		args: {},
		result: function (ajax) {return TEST.count(ajax, 2);}},

	{group: "UPDATE TABLE"},
	{action: "../update_table.php",
		args: {
			table_id: 1,
			name: "My Original Table",
			image_id: 3,
			tile_width: 30,
			tile_height: 20,
			grid_thickness: 2,
			grid_color: "brown",
			wall_thickness: 1,
			wall_color: "blue",
			tile_mode: 'isometric',
		},
		result: TEST.blank},
	{action: "../read_table.php",
		args: {table_id: 1},
		result: function (ajax) {
			try {var data = JSON.parse(ajax.responseText);}
			catch (e) {return "FAIL [parse error: " + e + "]";}
			for (var i = 0; i < data.length; i++)
				if (data[i].id == 1 && data[i].name == "My Original Table") return "PASS";
			return "FAIL [" + ajax.responseText + "]";}},

	{group: "DELETE TABLE"},
	{action: "../delete_table.php",
		args: {table_id: 2},
		result: TEST.blank},
	{action: "../read_tables.php", args: {}, result: TEST.one},

	// T I L E

	{group: "READ TILES"},
	{action: "../read_tiles.php",
		args: {table_id: 1},
		result: function (ajax) {
			var text = ajax.responseXML.documentElement.textContent;
			var tiles = text.replace(/^\s+|\s+$/g, '').split(' ');
			if (tiles.length != 5000) return "FAIL [" + tiles.length + " tiles]";
			for (var i = 0; i < tiles.length; i++)
				 if (tiles[i] != "02") return "FAIL [" + i + ": " + tiles[i] + "]";
			return "PASS";}},

	{group: "UPDATE TILE"},
	{action: "../update_tile.php",
		args: {
			table_id: 1,
			x: 7,
			y: 10,
			image_id: 4,
			fog: 1,
			right: 2,
			bottom: 1},
		result: TEST.blank},
	{action: "../read_tiles.php",
		args: {table_id: 1},
		result: function (ajax) {
			var text = ajax.responseXML.documentElement.textContent;
			var tiles = text.replace(/^\s+|\s+$/g, '').split(' ');
			if (tiles.length != 5000) return "FAIL [" + tiles.length + " tiles]";
			for (var i = 0; i < tiles.length; i++) {
				 var target = (i == 507) ? "14" : "02";
				 if (tiles[i] != target) return "FAIL [" + i + ": " + tiles[i] + "]";
			}
			return "PASS";}},

	{group: "FILL FOG"},
	{action: "../fill_fog.php", args: {table_id: 1}, result: TEST.blank},
	{action: "../read_tiles.php",
		args: {table_id: 1},
		result: function (ajax) {
			var text = ajax.responseXML.documentElement.textContent;
			var tiles = text.replace(/^\s+|\s+$/g, '').split(' ');
			if (tiles.length != 5000) return "FAIL [" + tiles.length + " tiles]";
			for (var i = 0; i < tiles.length; i++) {
				 var target = (i == 507) ? "14" : "12";
				 if (tiles[i] != target) return "FAIL [" + i + ": " + tiles[i] + "]";
			}
			return "PASS";}},

	{group: "CLEAR FOG"},
	{action: "../clear_fog.php", args: {table_id: 1}, result: TEST.blank},
	{action: "../read_tiles.php",
		args: {table_id: 1},
		result: function (ajax) {
			var text = ajax.responseXML.documentElement.textContent;
			var tiles = text.replace(/^\s+|\s+$/g, '').split(' ');
			if (tiles.length != 5000) return "FAIL [" + tiles.length + " tiles]";
			for (var i = 0; i < tiles.length; i++) {
				 var target = (i == 507) ? "04" : "02";
				 if (tiles[i] != target) return "FAIL [" + i + ": " + tiles[i] + "]";
			}
			return "PASS";}},

	// WALL

	{group: "CREATE WALL"},
	{action: "../create_wall.php",
		args: {table_id: 1, x: 2, y: 3, direction: "sw", contents: "wall"},
		result: TEST.blank},

	{group: "READ WALLS"},
	{action: "../read_walls.php",
		args: {table_id: 1},
		result: function (ajax) {
			var wall = ajax.responseXML.getElementsByTagName("wall")[0];
			if (wall.getAttribute("x") == "2"
				&& wall.getAttribute("y") == "3"
				&& wall.getAttribute("direction") == "sw"
				&& wall.getAttribute("contents") == "wall"
				) return "PASS";
			return "FAIL [" + ajax.responseText + "]";}},

	{group: "DELETE WALL"},
	{action: "../delete_wall.php",
		args: {table_id: 1, x: 2, y: 3, direction: "sw"},
		result: TEST.blank},
	{action: "../read_walls.php", args: {table_id: 1}, result: TEST.zero},
*/

	// P I E C E

	{group: "PIECE.CREATE"},
	{action: "../Piece.create.php", args: {map: 1, image: "{}"}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../Piece.create.php", args: {map: 1, image: "{}"}, result: TEST.unimplemented},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "PIECE.MOVE"},
	{action: "../Piece.move.php", args: {piece: 1, x: 2.5, y: 3.5}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../Piece.move.php", args: {piece: 1, x: 2.5, y: 3.5}, result: TEST.unimplemented},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "PIECE.SETTINGS"},
	{action: "../Piece.settings.php", args: {piece: 1, image: "{}", name: "The Piece", character: 1, markers: "[]", color: "red"},
		result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../Piece.settings.php", args: {piece: 1, image: "{}", name: "The Piece", character: 1, markers: "[]", color: "red"},
		result: TEST.unimplemented},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "PIECE.DELETE"},
	{action: "../Piece.delete.php", args: {piece: 1}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../Piece.delete.php", args: {piece: 1}, result: TEST.unimplemented},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

/*
	{group: "CREATE PIECE"},
	{action: "../create_piece.php",
		args: {
			table_id: 1,
			image_id: 10,
			user_id: 1,
			name: "My Piece",
			x: 30,
			y: 100,
			x_offset: -32,
			y_offset: -8,
			height: 16,
			width: 64},
		result: TEST.blank},

	{group: "READ PIECES"},
	{action: "../read_pieces.php",
		args: {table_id: 1},
		result: TEST.one},

	{group: "UPDATE PIECE"},
	{action: "../update_piece.php",
		args: {
			piece_id: 1,
			image_id: 11,
			user_id: 2,
			name: "Still My Piece",
			x: 99,
			y: 49,
			x_offset: 5,
			y_offset: 10,
			width: 20,
			height: 40,
			color: "orange"},
		result: TEST.blank},
	{action: "../read_pieces.php",
		args: {table_id: 1},
		result: function (ajax) {
			try {var data = JSON.parse(ajax.responseText);}
			catch (e) {return "FAIL [parse error: " + e + "]";}
			for (var i = 0; i < data.length; i++)
				if (data[i].id == 1
					&& data[i].image_id == 11
					&& data[i].user_id == 2
					&& data[i].name == "Still My Piece"
					&& data[i].x == 99
					&& data[i].y == 49
					&& data[i].x_offset == 5
					&& data[i].y_offset == 10
					&& data[i].width == 20
					&& data[i].height == 40
					&& data[i].color == "orange"
				) return "PASS";
			return "FAIL [" + ajax.responseText + "]";}},

	{group: "DELETE PIECE"},
	{action: "../delete_piece.php", args: {piece_id: 1}, result: TEST.blank},
	{action: "../read_pieces.php",
		args: {table_id: 1},
		result: TEST.zero},
*/

	// C H A R A C T E R

	{group: "CHARACTER.CREATE"},
	{action: "../Character.create.php", args: {name: "My Character", system: "The System", stats: "{}",
		notes: "These are the notes.", portrait: "{}", piece: "{}", color: "red"}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../Character.create.php", args: {name: "My Character", system: "The System", stats: "{}",
		notes: "These are the notes.", portrait: "{}", piece: "{}", color: "red"}, result: TEST.unimplemented},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "CHARACTER.SHARE"},
	{action: "../Character.share.php", args: {character: 1, user: 3}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../Character.share.php", args: {character: 1, user: 3}, result: TEST.unimplemented},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "CHARACTER.OWNERS"},
	{action: "../Character.owners.php", args: {character: 1}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../Character.owners.php", args: {character: 1}, result: TEST.unimplemented},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

	{group: "CHARACTER.DELETE OWNER"},
	{action: "../Character.deleteOwner.php", args: {character: 1, user: 3}, result: TEST.logged_out},
	{action: "../User.login.php", args: TEST.USER, result: TEST.exists},
	{action: "../Character.deleteOwner.php", args: {character: 1, user: 3}, result: TEST.unimplemented},
	{action: "../User.logout.php", args: {}, result: TEST.blank},

/*
	{group: "UPDATE STAT"},
	{action: "../update_stat.php",
		args: {piece_id: 1, name: "hit points", value: "20"},
		result: TEST.blank},
	{action: "../read_pieces.php",
		args: {table_id: 1},
		result: function (ajax) {
			var stats = ajax.responseXML.getElementsByTagName("stat");
			for (var i = 0; i < stats.length; i++) {
				if (decodeURIComponent(stats[i].getAttribute("name")) == "hit points"
					&& decodeURIComponent(stats[i].textContent) == "20") return "PASS";
			}
			return "FAIL [" + ajax.responseText + "]";}},

	{group: "DELETE STAT"},
	{action: "../delete_stat.php",
		args: {piece_id: 1, name: "hit points"},
		result: TEST.blank},
	{action: "../read_pieces.php",
		args: {table_id: 1},
		result: TEST.zero},
*/

];

onload = function () {
	$.get("test.json", function (data) {
		$("input[name='location']").val(data.location);
		$("input[name='database']").val(data.database);
		$("input[name='username']").val(data.username);
		$("input[name='password']").val(data.password);
	});
	$("input[name='begin']").click(function () {
		TEST.INSTALL_ARGS.location = $("input[name='location']").val();
		TEST.INSTALL_ARGS.database = $("input[name='database']").val();
		TEST.INSTALL_ARGS.username = $("input[name='username']").val();
		TEST.INSTALL_ARGS.password = $("input[name='password']").val();
		TEST.start();
	});
}
		</script>
	</head>
	<body>
		<div><input type="text" name="location"/>URL of database server</div>
		<div><input type="text" name="database"/>database name</div>
		<div><input type="text" name="username"/>database user name</div>
		<div><input type="password" name="password"/>database password</div>
		<div><input type="button" name="begin" value="Begin Test"/></div>
		<div id="output"></div>
	</body>
</html>
